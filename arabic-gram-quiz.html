<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ุงุฎุชุจุงุฑ ุชูุงุนูู</title>
  <style>
    body {
      font-family: 'Cairo', sans-serif;
      background: linear-gradient(135deg, #111, #222);
      color: #fff;
      margin: 0;
      padding: 0;
      display: flex;
      justify-content: center;
      align-items: flex-start;
      min-height: 100vh;
    }
    .container {
      background: rgba(255,255,255,0.06);
      border: 1px solid rgba(255,255,255,0.1);
      border-radius: 16px;
      padding: 25px 30px;
      width: 90%;
      max-width: 550px;
      box-shadow: 0 0 20px rgba(0,0,0,0.5);
      margin-top: 40px;
      animation: fadeIn 1s ease-in;
    }
    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(20px); }
      to { opacity: 1; transform: translateY(0); }
    }
    h2 {
      text-align: center;
      margin-bottom: 15px;
      color: #00ffb3;
      letter-spacing: 1px;
    }
    .question {
      background: rgba(255,255,255,0.05);
      padding: 15px;
      border-radius: 12px;
      margin-bottom: 15px;
      transition: 0.3s;
    }
    .question:hover { background: rgba(255,255,255,0.08); }
    .option {
      display: flex;
      align-items: center;
      gap: 6px;
      margin: 6px 0;
      cursor: pointer;
    }
    .option input { accent-color: #00ffb3; }
    .option.correct { background: rgba(0,255,128,0.1); border-left: 4px solid #00ff88; }
    .option.wrong { background: rgba(255,0,76,0.1); border-left: 4px solid #ff004c; }
    .btn {
      display: block;
      background: #00ffb3;
      border: none;
      padding: 10px 20px;
      border-radius: 12px;
      margin: 15px auto;
      font-weight: bold;
      cursor: pointer;
      color: #000;
      font-size: 17px;
      transition: 0.3s;
    }
    .btn:hover { background: #00cc8c; }
    .timer {
      text-align: center;
      background: #111;
      padding: 10px;
      border-radius: 8px;
      font-weight: bold;
      color: #00ffb3;
      margin-bottom: 10px;
    }
    .result {
      text-align: center;
      font-size: 22px;
      color: #fff;
      margin-top: 20px;
    }
    .old-result {
      text-align: center;
      font-size: 16px;
      color: #ffbb00;
      margin-top: 8px;
    }
  </style>
</head>
<body>
  <div class="container">
    <h2>ุงูุชุญุงู ุนูู ุงูู ุซูุงุซ ุฏุฑูุณ ูุญู </h2>
    <div id="timer" class="timer">ุงูููุช: 50:00</div>
    <div id="welcome">ุฌุงุฑู ุงูุชุญูู ูู ุงูุญุณุงุจ...</div>
    <div id="quizBox" style="display:none">
        <!-- ======= ูุณู: ุงูููุงุฏู ======= -->
<div class="question" data-correct="2">
  <p>(ฑ) ยซ ูุง ูุงุนุธูุง ุบูุฑู ุ ุงุจุฏุฃ ุจููุณู ยป . ููุน ุงูููุงุฏู :</p>
  <label class="option"><input type="radio" name="q1" value="1"> ูุถุงู</label>
  <label class="option"><input type="radio" name="q1" value="2"> ุดุจูู ุจุงููุถุงู</label>
  <label class="option"><input type="radio" name="q1" value="3"> ููุฑุฉ ุบูุฑ ููุตูุฏุฉ</label>
  <label class="option"><input type="radio" name="q1" value="4"> ููุฑุฉ ููุตูุฏุฉ</label>
</div>

<div class="question" data-correct="2">
  <p>(ฒ) ยซุฃูุง ูุชููููู ุ ุงุฌุชูุฏูุง ยป . (ูุชููููู ) ููุงุฏู :</p>
  <label class="option"><input type="radio" name="q2" value="1"> ูุฑููุน ุจุงููุงู</label>
  <label class="option"><input type="radio" name="q2" value="2"> ูุจูู ุนูู ุงููุงู</label>
  <label class="option"><input type="radio" name="q2" value="3"> ูุฑููุน ุจุซุจูุช ุงูููู</label>
  <label class="option"><input type="radio" name="q2" value="4"> ูุจูู ุนูู ุงูุถู</label>
</div>

<div class="question" data-correct="1">
  <p>(ณ) ยซุฃููุง ุงูููุงุทูููุ ุงูุนูู ุฃูุงูุฉ ยป . ุงูููุงุฏู ูู ุงูุฌููุฉ ุงูุณุงุจูุฉ :</p>
  <label class="option"><input type="radio" name="q3" value="1"> ุฃู</label>
  <label class="option"><input type="radio" name="q3" value="2"> ูุง</label>
  <label class="option"><input type="radio" name="q3" value="3"> ุงูููุงุทููู</label>
  <label class="option"><input type="radio" name="q3" value="4"> ูุญุฐูู</label>
</div>

<div class="question" data-correct="1">
  <p>(ูค) ยซุจููู ูุตุฑุ ุตูููุง ููุง ูุฌุฏูุงยป . ููุน ุงูููุงุฏู :</p>
  <label class="option"><input type="radio" name="q4" value="1"> ูุถุงู</label>
  <label class="option"><input type="radio" name="q4" value="2"> ุดุจูู ุจุงููุถุงู</label>
  <label class="option"><input type="radio" name="q4" value="3"> ููุฑุฉ ููุตูุฏุฉ</label>
  <label class="option"><input type="radio" name="q4" value="4"> ููุฑุฉ ุบูุฑ ููุตูุฏุฉ</label>
</div>

<div class="question" data-correct="2">
  <p>(0) ยซูุง ุฃููุง ุงูุบุงูููู ุ ุงูุชุจููุง ยป . ุฅุนุฑุงุจ (ุงูุบุงูููู) :</p>
  <label class="option"><input type="radio" name="q5" value="1"> ููุงุฏู ูุจูู ุนูู ุงูุถู</label>
  <label class="option"><input type="radio" name="q5" value="2"> ูุนุช ูุฑููุน ุจุงููุงู</label>
  <label class="option"><input type="radio" name="q5" value="3"> ููุงุฏู ููุตูุจ ุจุงููุชุญุฉ</label>
  <label class="option"><input type="radio" name="q5" value="4"> ููุงุฏู ูุจูู ุนูู ุงููุงู</label>
</div>

<div class="question" data-correct="1">
  <p>(ูฆ) ยซุงูููู ุงุฑุญููุง ูุงุนู ุนูุง ยป . ููุน ุงูููุงุฏู ูู ุงูุฌููุฉ ุงูุณุงุจูุฉ :</p>
  <label class="option"><input type="radio" name="q6" value="1"> ุนูู ููุฑุฏ</label>
  <label class="option"><input type="radio" name="q6" value="2"> ูุถุงู</label>
  <label class="option"><input type="radio" name="q6" value="3"> ุดุจูู ุจุงููุถุงู</label>
  <label class="option"><input type="radio" name="q6" value="4"> ููุฑุฉ ููุตูุฏุฉ</label>
</div>

<div class="question" data-correct="2">
  <p>(ท) ยซ ูุง ุฃุฎุง ุงูุนุฑุจ ุ ุงููุญุฏุฉ ุงูุนุฑุจูุฉ ุตูุงู ุงูุฃูุงู ูุฃูุชูุง ยป . ููุน ุงูููุงุฏู :</p>
  <label class="option"><input type="radio" name="q7" value="1"> ุดุจูู ุจุงููุถุงู</label>
  <label class="option"><input type="radio" name="q7" value="2"> ูุถุงู</label>
  <label class="option"><input type="radio" name="q7" value="3"> ููุฑุฉ ุบูุฑ ููุตูุฏุฉ</label>
  <label class="option"><input type="radio" name="q7" value="4"> ููุฑุฉ ููุตูุฏุฉ</label>
</div>

<div class="question" data-correct="4">
  <p>(ธ) ยซ ูุง ูุซูููู ุ ุฃูุชู ุฃูู ุงูุฃูุฉ ยป - ยซูุง ูุซูููู ุ ุฃูุชู ุฃูู ุงูุฃูุฉ ยป . ุงูุญูู ุงูุฅุนุฑุงุจู ููููุงุฏู ูู ุงูุฌููุชูู ุนูู ุงูุชุฑุชูุจ :</p>
  <label class="option"><input type="radio" name="q8" value="1"> ูุนุฑุจ ุ ูุนุฑุจ</label>
  <label class="option"><input type="radio" name="q8" value="2"> ูุนุฑุจ ุ ูุจูู</label>
  <label class="option"><input type="radio" name="q8" value="3"> ูุจูู ุ ูุจูู</label>
  <label class="option"><input type="radio" name="q8" value="4"> ูุจูู ุ ูุนุฑุจ</label>
</div>

<div class="question" data-correct="4">
  <p>(น) ยซ ููุง ูุนููููุง ุ ุฃููุฏูุง ูู ุนูููู ยป . ููุน ุงูููุงุฏู :</p>
  <label class="option"><input type="radio" name="q9" value="1"> ููุฑุฉ ุบูุฑ ููุตูุฏุฉ</label>
  <label class="option"><input type="radio" name="q9" value="2"> ููุฑุฉ ููุตูุฏุฉ</label>
  <label class="option"><input type="radio" name="q9" value="3"> ุดุจูู ุจุงููุถุงู</label>
  <label class="option"><input type="radio" name="q9" value="4"> ูุถุงู</label>
</div>

<div class="question" data-correct="4">
  <p>(ฑฐ) ุงูููุงุฏู ุงููุนุฑุจ ููุง ููู :</p>
  <label class="option"><input type="radio" name="q10" value="1"> ูุง ุงููู ุ ุงุตุฑู ุนูุง ุงูุณูุก</label>
  <label class="option"><input type="radio" name="q10" value="2"> ูุง ูุญูุฏูู ุ ุฐุงูุฑูุง ุจุฌุฏ</label>
  <label class="option"><input type="radio" name="q10" value="3"> ูุง ุณุงุฆู ุ ุงูุชุจู</label>
  <label class="option"><input type="radio" name="q10" value="4"> ูุง ุนุงูููู ุ ุงุฌุชูุฏูุง ูู ุนูููู</label>
</div>

<!-- ======= ูุณู: ุงูุจุฏู ======= -->
<div class="question" data-correct="2">
  <p>(1) ยซุฃุญุจ ุงูุฅุณููุฏุฑูุฉ ูุนุงูููุง ยป - ยซุฃุญุจ ุงูุฅุณููุฏุฑูุฉ ููุธุฑูุง ยป . ููุน ุงูุจุฏู ูู ุงูุฌููุชูู ุนูู ุงูุชุฑุชูุจ :</p>
  <label class="option"><input type="radio" name="q11" value="1"> ุจุนุถ ูู ูู ุ ุจุนุถ ูู ูู</label>
  <label class="option"><input type="radio" name="q11" value="2"> ุจุนุถ ูู ูู ุ ุงุดุชูุงู</label>
  <label class="option"><input type="radio" name="q11" value="3"> ูุทุงุจู ุ ุจุนุถ ูู ูู</label>
  <label class="option"><input type="radio" name="q11" value="4"> ุงุดุชูุงูุ ุจุนุถ ูู ูู</label>
</div>

<div class="question" data-correct="1">
  <p>(ฒ) ยซุณุฑูู ุงูุทุงูุจ ุฎูููู ยป - ยซุณุฑูู ูู ุงูุทุงูุจ ุฎูููู ยป . ุฅุนุฑุงุจ ูุง ุชุญุชู ุฎุท ุนูู ุงูุชุฑุชูุจ :</p>
  <label class="option"><input type="radio" name="q12" value="1"> ุจุฏู ูุฑููุน ุ ูุงุนู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q12" value="2"> ุจุฏู ููุตูุจ ุ ูุงุนู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q12" value="3"> ูุงุนู ูุฑููุน ุ ุจุฏู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q12" value="4"> ุจุฏู ูุฑููุนุ ุจุฏู ูุฌุฑูุฑ</label>
</div>

<div class="question" data-correct="3">
  <p>(ณ) ยซุงุฑุชูู ุงูุนุงูู ููุฒูุฉ ยป - ยซุงุฑุชูู ุงูุนุงูู ููุฒูุชู ยป . ุฅุนุฑุงุจ ูุง ุชุญุชู ุฎุท ุนูู ุงูุชุฑุชูุจ :</p>
  <label class="option"><input type="radio" name="q13" value="1"> ุจุฏู ูุฑููุน ุ ููุนูู ุจู ููุตูุจ</label>
  <label class="option"><input type="radio" name="q13" value="2"> ุชูููุฒ ููุตูุจ ุ ุจุฏู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q13" value="3"> ุชูููุฒ ููุตูุจ ููุนูู ุจู ููุตูุจ</label>
  <label class="option"><input type="radio" name="q13" value="4"> ุจุฏู ูุฑููุน ุ ุชูููุฒ ููุตูุจ</label>
</div>

<div class="question" data-correct="4">
  <p>(ูค) ยซุงูุชุญูู ุจุฑูุญ ุงูุงุจุชูุงุฑ ุถุฑูุฑุฉุ ูููุฏุฑ ุฐูู ุงููุจุฏุน ยป. ุฅุนุฑุงุจ ูุง ุชุญุชู ุฎุท :</p>
  <label class="option"><input type="radio" name="q14" value="1"> ุจุฏู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q14" value="2"> ุจุฏู ููุตูุจ</label>
  <label class="option"><input type="radio" name="q14" value="3"> ููุนูู ุจู ููุตูุจ</label>
  <label class="option"><input type="radio" name="q14" value="4"> ูุงุนู ูุฑููุน</label>
</div>

<div class="question" data-correct="1">
  <p>(ู) ยซุฃุฏูุดูู ุดุนุจ ูุตุฑ ........... ุงูุจุฏู ุงูููุงุณุจ :</p>
  <label class="option"><input type="radio" name="q15" value="1"> ููุงุคู</label>
  <label class="option"><input type="radio" name="q15" value="2"> ููุงุกู</label>
  <label class="option"><input type="radio" name="q15" value="3"> ููุงุฆู</label>
  <label class="option"><input type="radio" name="q15" value="4"> ููุงุก</label>
</div>

<div class="question" data-correct="3">
  <p>ูฆ) ยซูุฑุฃุช ุงููุชุงุจ( ... ุงูุจุฏู ุงูููุงุณุจ :</p>
  <label class="option"><input type="radio" name="q16" value="1"> ููู</label>
  <label class="option"><input type="radio" name="q16" value="2"> ุฐุงุชู</label>
  <label class="option"><input type="radio" name="q16" value="3"> ูุนุธูู</label>
  <label class="option"><input type="radio" name="q16" value="4"> ุนููู</label>
</div>

<div class="question" data-correct="2">
  <p>(ท) ยซูุทููุง ูุทู ุฐู ููุงูุฉ ูุฑูููุฉ ยป . ุฅุนุฑุงุจ ูุง ุชุญุชู ุฎุท :</p>
  <label class="option"><input type="radio" name="q17" value="1"> ุจุฏู</label>
  <label class="option"><input type="radio" name="q17" value="2"> ุฎุจุฑ</label>
  <label class="option"><input type="radio" name="q17" value="3"> ุชูููุฏ ููุธู</label>
  <label class="option"><input type="radio" name="q17" value="4"> ูุนุช</label>
</div>

<div class="question" data-correct="1">
  <p>(ธ) ุดุฑุญ ุงููุนูู ูุญููุฏ ุงูุฏุฑุณ ยป - ยซุดุฑุญ ูุญููุฏ ุงููุนูู ุงูุฏุฑุณ ยป. ุฅุนุฑุงุจ ูุง ุชุญุชู ุฎุท ุนูู ุงูุชุฑุชูุจ :</p>
  <label class="option"><input type="radio" name="q18" value="1"> ุจุฏู ูุฑููุน ุ ูุนุช ูุฑููุน</label>
  <label class="option"><input type="radio" name="q18" value="2"> ุชูููุฏ ูุฑููุน ุ ุจุฏู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q18" value="3"> ุจุฏู ูุฑููุน ุ ุจุฏู ูุฌุฑูุฑ</label>
  <label class="option"><input type="radio" name="q18" value="4"> ูุนุช ูุฑููุน ุ ุจุฏู ูุฑููุน</label>
</div>

<div class="question" data-correct="1">
  <p>(น) ูุงู ุฐุง ุงูููุฏุงู ูุณูุญุง ยป . ุฅุนุฑุงุจ ุงูููุฏุงู :</p>
  <label class="option"><input type="radio" name="q19" value="1">  ุจุฏู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q19" value="2"> ุจุฏู ูุฌุฑูุฑ</label>
  <label class="option"><input type="radio" name="q19" value="3"> ุงุณู ยซูุงู ยป ูุฑููุน  </label>
  <label class="option"><input type="radio" name="q19" value="4">  ูุถุงู ุฅููู ูุฌุฑูุฑ</label>
</div>

<div class="question" data-correct="3">
  <p>(ฑฐ) ุจูุฑูู ุงููุตุฑููู ุญุถุงุฑุชูู ยป - ยซุงููุตุฑููู ุญุถุงุฑุชูู ุนุฑููุฉ ยป . ุฅุนุฑุงุจ ูุง ุชุญุชู ุฎุท ุนูู ุงูุชุฑุชูุจ :</p>
  <label class="option"><input type="radio" name="q20" value="1"> ููุนูู ุจู ููุตูุจ ุ ุจุฏู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q20" value="2"> ุจุฏู ูุฑููุน ุ ุฎุจุฑ ูุฑููุน</label>
  <label class="option"><input type="radio" name="q20" value="3"> ุจุฏู ูุฑููุน, ูุจุชุฏุฃ ุซุงู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q20" value="4"> ููุนูู ุจู ููุตูุจุ ูุจุชุฏุฃ ุซุงู ูุฑููุน</label>
</div>

<!-- ======= ูุณู: ูุนู/ุจุฆุณ ูุงูุฃุณุงููุจ ======= -->
<div class="question" data-correct="4">
  <p>(ฑ) ุจุฆุณ ุตูุฉ ุงูุบุฏุฑยป . ุตูุฑุฉ ุงููุงุนู ูู ุงูุฌููุฉ ุงูุณุงุจูุฉ :</p>
  <label class="option"><input type="radio" name="q21" value="1"> ูุนุฑู ุจู ยซุฃูยป</label>
  <label class="option"><input type="radio" name="q21" value="2"> ุงุณู ููุตูู</label>
  <label class="option"><input type="radio" name="q21" value="3"> ูุถุงู ุฅูู ุงููุนุฑู ุจู ยซุฃูยป</label>
  <label class="option"><input type="radio" name="q21" value="4"> ุถููุฑ ูุณุชุชุฑ</label>
</div>

<div class="question" data-correct="3">
  <p>(ฒ) ยซูุนู ูู ุฃุญุชุฑูู ุงููุนููยป. ุฅุนุฑุงุจ (ุงููุนูู) :</p>
  <label class="option"><input type="radio" name="q22" value="1"> ูุงุนู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q22" value="2"> ููุนูู ุจู ููุตูุจ</label>
  <label class="option"><input type="radio" name="q22" value="3"> ูุจุชุฏุฃ ูุคุฎุฑ ูุฑููุน</label>
  <label class="option"><input type="radio" name="q22" value="4"> ูุนุช ูุฑููุน</label>
</div>

<div class="question" data-correct="3">
  <p>(ณ) ยซูุนู ูุง ุชุชุตู ุจู ุงูุดุฎุตูุฉ ุงููุตุฑูุฉ ุงููุทููุฉ ุงูุตุงุฏูุฉ ยป.ุงููุฎุตูุต ุจุงููุฏุญ ูู ุงูุฌููุฉ ุงูุณุงุจูุฉ :</p>
  <label class="option"><input type="radio" name="q23" value="1"> ุงูุดุฎุตูุฉ</label>
  <label class="option"><input type="radio" name="q23" value="2"> ุงููุตุฑูุฉ</label>
  <label class="option"><input type="radio" name="q23" value="3"> ุงููุทููุฉ</label>
  <label class="option"><input type="radio" name="q23" value="4"> ุงูุตุงุฏูุฉ</label>
</div>

<div class="question" data-correct="2">
  <p>(ูค) ุงูุฌููุฉ ุงูุชู ุชุดุชูู ุนูู ูุงุนู ูุณุชุชุฑ :</p>
  <label class="option"><input type="radio" name="q24" value="1"> ูุนู ูุง ุชููู ุจู ุงููุฐุงูุฑุฉ</label>
  <label class="option"><input type="radio" name="q24" value="2"> ูุนู ุณููููุง ูุณุงุนุฏุฉ ุงูููุฑุงุก</label>
  <label class="option"><input type="radio" name="q24" value="3"> ูุง ุญุจุฐุง ุงูููุงู</label>
  <label class="option"><input type="radio" name="q24" value="4"> ุจุฆุณ ูู ุชุตุงุญุจ ุงููุฐูุจ</label>
</div>

<div class="question" data-correct="4">
  <p>(0) ุงูุงุฌุชูุงุฏ ูุนู ุงูุนูู ยป - ยซ ุญุจุฐุง ุงูุงุฌุชูุงุฏ ยป . ุญูู ุงููุฎุตูุต ูู ุงูุฌููุชูู ุนูู ุงูุชุฑุชูุจ :</p>
  <label class="option"><input type="radio" name="q25" value="1"> ูุงุฌุจ ุงูุชุฃุฎูุฑุ ุฌุงุฆุฒ ุงูุชุฃุฎูุฑ</label>
  <label class="option"><input type="radio" name="q25" value="2"> ูุงุฌุจ ุงูุชุฃุฎูุฑุ ูุงุฌุจ ุงูุชุฃุฎูุฑ</label>
  <label class="option"><input type="radio" name="q25" value="3"> ุฌุงุฆุฒ ุงูุชุฃุฎูุฑุ ุฌุงุฆุฒ ุงูุชุฃุฎูุฑ</label>
  <label class="option"><input type="radio" name="q25" value="4"> ุฌุงุฆุฒ ุงูุชุฃุฎูุฑุ ูุงุฌุจ ุงูุชุฃุฎูุฑ</label>
</div>

<div class="question" data-correct="3">
  <p>(ูฆ) ุงูุชุนุจูุฑ ุงูุตุญูุญ ูุญููุง :</p>
  <label class="option"><input type="radio" name="q26" value="1"> ุญุจุฐุง ูุงุฑุฆูู ุงููุฑุขู</label>
  <label class="option"><input type="radio" name="q26" value="2"> ูุงุฑุฆู ุงููุฑุขู ุญุจุฐุง</label>
  <label class="option"><input type="radio" name="q26" value="3"> ุญุจุฐุง ูุงุฑุฆู ุงููุฑุขู</label>
  <label class="option"><input type="radio" name="q26" value="4"> ุญุจุฐุง ูุงุฑุฆู ุงููุฑุขู</label>
</div>

<div class="question" data-correct="2">
  <p>(ท) ยซุชูุฏููู ูููุทู ุงูุนูู ุงููุงูุน ยป . ุงูุงุฎุชูุงุฑ ุงูููุงุณุจ :</p>
  <label class="option"><input type="radio" name="q27" value="1"> ูููู</label>
  <label class="option"><input type="radio" name="q27" value="2"> ูุง</label>
  <label class="option"><input type="radio" name="q27" value="3"> ุงูุนูู</label>
  <label class="option"><input type="radio" name="q27" value="4"> ุนูู ุงูุฅูุณุงู</label>
</div>

<div class="question" data-correct="2">
  <p>(ธ) ุญุจุฐุง ุตุญุจุฉ ุงููุชุงุจ ยป . ุฅุนุฑุงุจ ูุง ุชุญุชู ุฎุท :</p>
  <label class="option"><input type="radio" name="q28" value="1"> ูุงุนู ูุฑููุน</label>
  <label class="option"><input type="radio" name="q28" value="2"> ูุจุชุฏุฃ ูุคุฎุฑ ูุฑููุน</label>
  <label class="option"><input type="radio" name="q28" value="3"> ุฎุจุฑ ูุฑููุน</label>
  <label class="option"><input type="radio" name="q28" value="4"> ูุจุชุฏุฃ ุซุงู ูุฑููุน</label>
</div>

<div class="question" data-correct="1">
  <p>(น) ยซูุง ุญุจุฐุง ูู ููุฑู ูุบุชู ยป . ุงููุงุนู ูู ุฃุณููุจ ุงูุฐู :</p>
  <label class="option"><input type="radio" name="q29" value="1"> ุงุณู ุฅุดุงุฑุฉ</label>
  <label class="option"><input type="radio" name="q29" value="2"> ุงุณู ููุตูู</label>
  <label class="option"><input type="radio" name="q29" value="3"> ุงุณู ูู ุงูุฃุณูุงุก ุงูุฎูุณุฉ</label>
  <label class="option"><input type="radio" name="q29" value="4"> ุถููุฑ ูุณุชุชุฑ</label>
</div>

    

      <button class="btn" id="showAnswers">ุฅููุงุก ุงูุงุฎุชุจุงุฑ</button>
      <div id="result" class="result"></div>
      <div id="oldResult" class="old-result"></div>
    </div>
  </div>

  <!-- Firebase (v8) -->
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-app.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-auth.js"></script>
  <script src="https://www.gstatic.com/firebasejs/8.10.1/firebase-firestore.js"></script>

  <script>
    const firebaseConfig = {
      apiKey: "AIzaSyDnXtTg9iLLm_b9zyKBxr0v8aGhXJuR3WE",
      authDomain: "my-web-c23de.firebaseapp.com",
      projectId: "my-web-c23de",
      storageBucket: "my-web-c23de.firebasestorage.app",
      messagingSenderId: "846339445873",
      appId: "1:846339445873:web:fc0427a7ad77eceda837d0"
    };

    firebase.initializeApp(firebaseConfig);
    const db = firebase.firestore();
    const auth = firebase.auth();

    const SUBJECT = "ุนุฑุจู ุชุงูุชู  ุงูู ุซูุงุซ ุฏุฑูุณ ูุญู ";
    const QUIZ_TIME = 50 * 60;
    let totalSeconds = QUIZ_TIME, timer, userId, userEmail;

    const timerDiv = document.getElementById("timer");
    const welcome = document.getElementById("welcome");
    const quizBox = document.getElementById("quizBox");
    const resultDiv = document.getElementById("result");
    const oldResultDiv = document.getElementById("oldResult");

    // ุงูุชุญูู ูู ุงููุณุชุฎุฏู
    auth.onAuthStateChanged(async (user) => {
      if (user) {
        userId = user.uid;
        userEmail = user.email;
        welcome.innerText = `ูุฑุญุจูุง ${user.displayName || ""} ๐`;
        await checkOldResult();
        setTimeout(() => {
          welcome.style.display = "none";
          quizBox.style.display = "block";
          startTimer();
        }, 1200);
      } else {
        welcome.innerText = "โ๏ธ ูู ุจุชุณุฌูู ุงูุฏุฎูู ุฃูููุง.";
      }
    });

    async function checkOldResult() {
      const prev = await db.collection("results")
        .where("uid", "==", userId)
        .where("subject", "==", SUBJECT)
        .get();
      if (!prev.empty) {
        const data = prev.docs[0].data();
        oldResultDiv.innerText = `๐ ููุฏ ุญููุช ูุฐุง ุงูุงูุชุญุงู ูู ูุจู: ${data.score} / ${data.total}`;
      }
    }

    function startTimer() {
      timer = setInterval(() => {
        let m = Math.floor(totalSeconds / 60);
        let s = totalSeconds % 60;
        timerDiv.textContent = `ุงูููุช ุงููุชุจูู: ${m}:${s.toString().padStart(2, "0")}`;
        if (totalSeconds <= 0) {
          clearInterval(timer);
          showResults();
        }
        totalSeconds--;
      }, 1000);
    }

    async function showResults() {
      clearInterval(timer);
      const questions = document.querySelectorAll(".question");
      let score = 0;

      questions.forEach((q, i) => {
        const correct = parseInt(q.dataset.correct);
        const selected = q.querySelector(`input[name="q${i + 1}"]:checked`);
        q.querySelectorAll(".option").forEach(opt => {
          const val = parseInt(opt.querySelector("input").value);
          if (val === correct) opt.classList.add("correct");
          if (selected && parseInt(selected.value) === val && val !== correct) opt.classList.add("wrong");
        });
        if (selected && parseInt(selected.value) === correct) score++;
      });

      resultDiv.innerText = `ูุชูุฌุชู: ${score} ูู ${questions.length}`;

      try {
        const prev = await db.collection("results")
          .where("uid", "==", userId)
          .where("subject", "==", SUBJECT)
          .get();
        const alreadyTaken = !prev.empty;

        await db.collection("results").add({
          uid: userId,
          email: userEmail,
          subject: SUBJECT,
          score: score,
          total: questions.length,
          createdAt: firebase.firestore.FieldValue.serverTimestamp()
        });

        if (!alreadyTaken) {
          const userRef = db.collection("users").doc(userId);
          await db.runTransaction(async (t) => {
            const userDoc = await t.get(userRef);
            const old = userDoc.exists && userDoc.data().score ? userDoc.data().score : 0;
            t.set(userRef, { score: old + score }, { merge: true });
          });
          alert("โ ุชู ุญูุธ ูุชูุฌุชู ูุชุญุฏูุซ ูุฌููุนู!");
        } else {
          alert("โ๏ธ ููุฏ ุฃุฌุจุช ุนูู ูุฐุง ุงูุงูุชุญุงู ูู ูุจู โ ูู ุชูุถู ูุชูุฌุชู ูุฌุฏุฏูุง.");
        }
      } catch (e) {
        alert("โ๏ธ ุฎุทุฃ ุฃุซูุงุก ุงูุฅุฑุณุงู: " + e.message);
      }
    }

    document.getElementById("showAnswers").addEventListener("click", showResults);
  </script>
</body>
</html>