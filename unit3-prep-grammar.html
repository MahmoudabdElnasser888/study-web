<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Grammar — المستقبل البسيط (Active & Passive)</title>
  <link href="https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg:#5c5959;
      --panel:#0f0f0f;
      --gold:rgb(132, 89, 189);
      --muted:#ffffff;
      --glass: rgba(255,255,255,0.03);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{
      margin:0;
      font-family:'Cairo',sans-serif;
      background:linear-gradient(135deg,var(--bg),#080808);
      color:#fff;
      padding:18px;
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      direction:rtl;
    }

    header{ text-align:center; margin-bottom:12px }
    h1{ color:var(--gold); margin:6px 0; font-size:22px; letter-spacing:0.6px; text-shadow:0 0 10px rgba(218,165,32,0.12) }
    p.lead{ color:var(--muted); margin:6px 0 16px; font-size:14px }

    .container{ max-width:1100px; margin:0 auto; }

    .card{
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border-radius:12px;
      padding:14px;
      margin-bottom:16px;
      border:1px solid rgba(218,165,32,0.06);
      box-shadow: 0 10px 30px rgba(0,0,0,0.6);
    }

    /* image gallery */
    .images{
      display:grid;
      grid-template-columns: 1fr 1fr 1fr;
      gap:12px;
      align-items:start;
    }
    .img-wrap{
      background:#070707;
      padding:8px;
      border-radius:10px;
      overflow:hidden;
      border:1px solid var(--glass);
    }
    .img-wrap img{
      width:100%;
      height:auto;
      display:block;
      border-radius:6px;
      box-shadow: 0 6px 18px rgba(0,0,0,0.6);
      touch-action: manipulation;
    }
    .img-caption{ text-align:center; color:var(--muted); font-size:13px; margin-top:8px }

    /* content */
    .section-title{
      display:flex;
      justify-content:space-between;
      align-items:center;
      gap:8px;
      margin: 8px 0 10px;
    }
    .section-title h2{ margin:0; color:var(--gold); font-size:16px }
    .section-title .badge{ color:#000; background:var(--gold); padding:6px 8px; border-radius:8px; font-weight:700; font-size:13px }

    .rule{
      padding:12px;
      border-radius:10px;
      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00));
      border:1px solid rgba(255,255,255,0.02);
      margin-bottom:12px;
    }
    .rule h3{ margin:0 0 8px; color:#ffd87a; font-size:15px }
    .rule p{ margin:0; color:var(--muted); line-height:1.6; font-size:14px; text-align:right }

    /* examples */
    .examples{ display:grid; grid-template-columns:1fr 1fr; gap:8px; margin-top:8px }
    .ex{ padding:10px; border-radius:8px; background:#0b0b0b; border:1px solid rgba(255,255,255,0.02); font-size:14px; color:#fff }

    /* quiz */
    .quiz{ margin-top:12px; }
    .question{ padding:12px; border-radius:10px; background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.00)); border:1px solid rgba(255,255,255,0.02); margin-bottom:10px; }
    .question h4{ margin:0 0 8px; color:var(--gold); font-size:15px }
    .choices{ display:flex; flex-direction:column; gap:8px }
    .choice{
      padding:10px; border-radius:8px; background:#0b0b0b; border:1px solid rgba(255,255,255,0.03); cursor:pointer; text-align:right;
      transition: all .15s ease;
      user-select:none;
    }
    .choice:hover{ transform:translateY(-3px); box-shadow:0 8px 20px rgba(0,0,0,0.6) }
    .choice.selected{ outline:3px solid rgba(218,165,32,0.18); background:linear-gradient(90deg, rgba(218,165,32,0.03), rgba(218,165,32,0.01)); }
    .choice.correct{ background:linear-gradient(90deg, rgba(0,150,0,0.06), rgba(0,150,0,0.02)); border-color:rgba(0,150,0,0.2) }
    .choice.wrong{ background:linear-gradient(90deg, rgba(200,0,0,0.06), rgba(200,0,0,0.02)); border-color:rgba(200,0,0,0.2) }

    .actions{ display:flex; gap:8px; margin-top:10px; justify-content:flex-end; }
    .btn{
      background:var(--gold); color:#000; padding:10px 12px; border-radius:10px; border:0; font-weight:700; cursor:pointer;
      box-shadow:0 8px 18px rgba(218,165,32,0.12);
    }
    .btn.ghost{ background:transparent; color:var(--gold); border:1px solid rgba(218,165,32,0.14) }

    footer{ text-align:center; color:var(--muted); margin-top:18px; font-size:13px }

    /* responsive */
    @media (max-width:900px){
      .images{ grid-template-columns:1fr; }
      .examples{ grid-template-columns:1fr; }
    }

    /* popup styles */
.popup-zoom {
  position: fixed;
  inset: 0;
  display: none;
  justify-content: center;
  align-items: center;
  z-index: 1400;
  padding: 20px;
  transition: opacity .25s ease;
  background: linear-gradient(180deg, rgba(0,0,0,0.72), rgba(0,0,0,0.88));
  backdrop-filter: blur(6px);
  -webkit-backdrop-filter: blur(6px);
}
.popup-zoom.open { display:flex; opacity:1; }

.popup-zoom .popup-inner {
  position: relative;
  max-width: 1100px;
  width: 92%;
  max-height: 92%;
  display:flex;
  align-items:center;
  justify-content:center;
  gap:12px;
  padding: 12px;
  border-radius: 12px;
  box-shadow: 0 40px 80px rgba(0,0,0,0.7);
  background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
  border:1px solid rgba(255,255,255,0.03);
}
.popup-zoom img {
  width: auto;
  height: auto;
  max-width: 100%;
  max-height: 80vh;
  border-radius: 10px;
  object-fit: contain;
  box-shadow: 0 28px 60px rgba(0,0,0,0.7), 0 0 30px rgba(218,165,32,0.08);
  transition: transform .28s cubic-bezier(.2,.9,.3,1), filter .2s ease, opacity .2s ease;
  cursor: zoom-in;
  display:block;
  opacity:0;
  transform: scale(.98);
}
.popup-zoom.open img { opacity:1; transform: scale(1); }

.popup-zoom img.zoomed {
  transform: scale(1.15);
  cursor: zoom-out;
}
.popup-zoom .caption {
  position: absolute;
  bottom: 12px;
  left: 16px;
  right: 16px;
  color: #e6d8a0;
  font-size: 14px;
  text-align: center;
  opacity: .95;
  pointer-events: none;
}
.popup-zoom .spinner {
  width:56px;
  height:56px;
  border-radius:50%;
  border:6px solid rgba(255,255,255,0.08);
  border-top-color: rgba(218,165,32,0.95);
  animation: spin .9s linear infinite;
  position:absolute;
}
@keyframes spin { to { transform: rotate(360deg); } }
.popup-zoom .btn {
  position:absolute;
  background: rgba(0,0,0,0.45);
  border:1px solid rgba(255,255,255,0.06);
  color:#fff;
  width:44px; height:44px;
  border-radius:50%;
  display:inline-flex; align-items:center; justify-content:center;
  cursor:pointer;
  transition: transform .12s ease, background .12s ease;
  backdrop-filter: blur(4px);
}
.popup-zoom .btn:hover { transform: translateY(-3px); background: rgba(218,165,32,0.12); color:#000; }
.popup-zoom .btn.close { top:12px; right:12px; left:auto; font-size:22px; }
.popup-zoom .btn.prev { left: 8px; top: 50%; transform: translateY(-50%); width:48px; height:48px; font-size:20px; }
.popup-zoom .btn.next { right: 8px; top: 50%; transform: translateY(-50%); width:48px; height:48px; font-size:20px; }

@media (max-width:900px){
  .popup-zoom .popup-inner{ padding:8px; max-height:94vh; }
  .popup-zoom img{ max-height:74vh; }
  .popup-zoom .btn.prev { left:6px; }
  .popup-zoom .btn.next { right:6px; }
  .popup-zoom .btn.close { top:8px; right:8px; }
}
  </style>
</head>
<body>
  <div class="container">
    <header>
      <h1>Grammar — الزمن: Future Simple (Active & Passive)</h1>
      <p class="lead">شرح مُبَسَّط لِـ Future Simple في الصيغتين المبني للمعلوم والمبني للمجهول، مع أمثلة وملاحظات واختبار تفاعلي.</p>
    </header>

    <!-- IMAGES CARD -->
    

    <!-- FORMATTED GRAMMAR: Future Simple Active & Passive -->
    <div class="card" id="formatted">
      <div class="section-title"><h2>1. Form — الشكل (Active & Passive)</h2><div class="badge">Future Simple</div></div>

      <div class="rule">
        <h3>Affirmative — الإيجاب (المبني للمعلوم)</h3>
        <p>
          تركيب الجملة: <strong>Subject (الفاعل) + will + base verb (infinitive)</strong>.<br>
          مثال: <em>He will plant trees.</em> — سوف يزرع أشجارًا.
        </p>
      </div>

      <div class="rule">
        <h3>Affirmative — الإيجاب (المبني للمجهول)</h3>
        <p>
          تركيب المبني للمجهول: <strong>Object (المفعول) + will + be + past participle (p.p.)</strong>.<br>
          مثال: <em>Trees will be planted (by him).</em> — سيتم زرع الأشجار (من قِبَلِه).
        </p>
      </div>

      <div class="rule">
        <h3>Negative — النفي</h3>
        <p>
          المبني للمعلوم: <strong>Subject + won't + base verb</strong>.<br>
          مثال: <em>They won't use AI to fix cars.</em> — لن يستخدموا الذكاء الاصطناعي لإصلاح السيارات.<br><br>
          المبني للمجهول: <strong>Object + won't + be + past participle</strong>.<br>
          مثال: <em>AI won't be used to fix cars by them.</em> — لن يُستخدم الذكاء الاصطناعي لإصلاح السيارات من قبلهم.
        </p>
      </div>

      <div class="rule">
        <h3>Yes/No Questions — أسئلة نعم / لا</h3>
        <p>
          المبني للمعلوم: <strong>Will + subject + base verb... ?</strong><br>
          مثال: <em>Will people use self-driving cars in the future?</em><br><br>
          المبني للمجهول: <strong>Will + object + be + past participle ... ?</strong><br>
          مثال: <em>Will self-driving cars be used in the future (by people)?</em>
        </p>
      </div>

      <div class="rule">
        <h3>Wh- Questions — أسئلة (متى / أين / لماذا ...)</h3>
        <p>
          ضع أداة السؤال ثم <strong>will</strong> ثم الفاعل ثم بقيّة الجملة.<br>
          مثال (مبني للمعلوم): <em>When will the doctor do the surgery?</em><br>
          مثال (مبني للمجهول): <em>When will the surgery be done (by the doctor)?</em>
        </p>
      </div>

      <div class="rule">
        <h3>Usage — متى نستخدم Future Simple؟</h3>
        <p>
          - للتنبؤ بالمستقبل: <em>It will rain tomorrow.</em><br>
          - لقرارات فورية أو وعود: <em>I'll help you.</em><br>
          - لوصف أحداث ستُنفَّذ في المستقبل (مبني للمجهول عند التركيز على الفعل أو النتيجة): <em>The letters will be sent tomorrow.</em>
        </p>
      </div>

      <div class="rule">
        <h3>ملاحظات مهمة</h3>
        <p>
          - في المبني للمجهول، ذكر الفاعل (by ...) اختياري ويكون عندما نريد الإشارة إليه.<br>
          - لا نستخدم صيغة الـ present simple مع 'will' — التركيب ثابت: will + base verb.<br>
          - الماضي / المستقبل القريب لهما صور أخرى لكن هذه الصفحة تشرح التركيب البسيط بالـ will.
        </p>
      </div>

      <div class="examples">
        <div class="ex"><strong>Active:</strong> He will plant trees next month. — سيزرع أشجارًا الشهر القادم.</div>
        <div class="ex"><strong>Passive:</strong> Trees will be planted next month by him. — ستُزرع الأشجار الشهر القادم بواسطته.</div>
      </div>

    </div>

    <!-- QUIZ SECTION (Future Simple) -->
    <div class="card quiz" id="quizSection">
      <div class="section-title"><h2>اختبر نفسك — Quiz (Future Simple)</h2><div class="badge">Interactive</div></div>

      <!-- Q1: Active formation -->
      <div class="question" data-answer="c">
        <h4>1) Choose the correct form (active): "He ___ the plants tomorrow."</h4>
        <div class="choices">
          <div class="choice" data-key="a">is planting</div>
          <div class="choice" data-key="b">has planted</div>
          <div class="choice" data-key="c">will plant</div>
          <div class="choice" data-key="d">was planting</div>
        </div>
      </div>

      <!-- Q2: Passive formation -->
      <div class="question" data-answer="b">
        <h4>2) Complete (passive): "Trees ___ planted by the farmers next week."</h4>
        <div class="choices">
          <div class="choice" data-key="a">are</div>
          <div class="choice" data-key="b">will be</div>
          <div class="choice" data-key="c">were</div>
          <div class="choice" data-key="d">have been</div>
        </div>
      </div>

      <!-- Q3: Negative passive -->
      <div class="question" data-answer="a">
        <h4>3) Choose the correct negative (passive):</h4>
        <div class="choices">
          <div class="choice" data-key="a">AI won't be used to fix cars.</div>
          <div class="choice" data-key="b">AI won't used be to fix cars.</div>
          <div class="choice" data-key="c">AI not will be used to fix cars.</div>
          <div class="choice" data-key="d">AI isn't be used.</div>
        </div>
      </div>

      <!-- Q4: Yes/No question passive -->
      <div class="question" data-answer="d">
        <h4>4) Choose the correct passive question: "___ the surgery ___ by the doctor?"</h4>
        <div class="choices">
          <div class="choice" data-key="a">Do / done</div>
          <div class="choice" data-key="b">Did / do</div>
          <div class="choice" data-key="c">Will / do</div>
          <div class="choice" data-key="d">Will / be done</div>
        </div>
      </div>

      <div class="actions">
        <button class="btn" id="checkBtn">تحقق من الإجابات</button>
        <button class="btn ghost" id="resetBtn">إعادة الاختبار</button>
      </div>

      <div id="result" style="margin-top:12px;color:var(--muted);font-size:14px"></div>
    </div>

    <!-- popup zoom -->
    <div class="popup-zoom" id="popupZoom" aria-hidden="true" role="dialog" aria-label="Image zoom dialog">
      <div class="popup-inner" role="document">
        <div class="spinner" id="popupSpinner" aria-hidden="true" style="display:none;"></div>

        <button class="btn close" id="popupClose" aria-label="إغلاق">&times;</button>
        <button class="btn prev" id="popupPrev" aria-label="السابق">&#10094;</button>
        <img id="popupImg" src="" alt="Zoomed grammar image" />
        <button class="btn next" id="popupNext" aria-label="التالي">&#10095;</button>

        <div class="caption" id="popupCaption"></div>
      </div>
    </div>

  </div>

  <script>
    // Interactive quiz logic
    (function(){
      const questions = Array.from(document.querySelectorAll('.question'));
      questions.forEach(q => {
        q.querySelectorAll('.choice').forEach(choice => {
          choice.addEventListener('click', () => {
            // clear previous selection
            q.querySelectorAll('.choice').forEach(c => c.classList.remove('selected'));
            choice.classList.add('selected');
          });
        });
      });

      document.getElementById('checkBtn').addEventListener('click', () => {
        let correct = 0;
        questions.forEach(q => {
          const answerKey = q.getAttribute('data-answer');
          const selected = q.querySelector('.choice.selected');
          q.querySelectorAll('.choice').forEach(c => c.classList.remove('correct','wrong'));
          if(!selected){
            // no selection -> mark all lightly as wrong
            q.querySelectorAll('.choice').forEach(c => c.classList.add('wrong'));
          } else {
            const key = selected.getAttribute('data-key');
            if(key === answerKey){
              selected.classList.add('correct');
              correct++;
            } else {
              selected.classList.add('wrong');
              // highlight correct
              const correctChoice = q.querySelector('.choice[data-key="'+answerKey+'"]');
              if(correctChoice) correctChoice.classList.add('correct');
            }
          }
        });
        const total = questions.length;
        const result = document.getElementById('result');
        result.innerHTML = 'إجابات صحيحة: ' + correct + ' من ' + total + '.';
      });

      document.getElementById('resetBtn').addEventListener('click', () => {
        questions.forEach(q => {
          q.querySelectorAll('.choice').forEach(c => c.classList.remove('selected','correct','wrong'));
        });
        document.getElementById('result').innerHTML = '';
      });
    })();
  </script>

  <script>
(function(){
  const imgs = Array.from(document.querySelectorAll('.images img, .img-wrap img'));
  if(!imgs.length) return;

  const popup = document.getElementById('popupZoom');
  const popupImg = document.getElementById('popupImg');
  const popupCaption = document.getElementById('popupCaption');
  const spinner = document.getElementById('popupSpinner');
  const btnClose = document.getElementById('popupClose');
  const btnPrev = document.getElementById('popupPrev');
  const btnNext = document.getElementById('popupNext');

  let currentIndex = 0;
  let isZoomed = false;

  function setLoading(on){
    spinner.style.display = on ? 'block' : 'none';
    popupImg.style.visibility = on ? 'hidden' : 'visible';
  }

  function openAt(index){
    currentIndex = (index + imgs.length) % imgs.length;
    const src = imgs[currentIndex].currentSrc || imgs[currentIndex].src || imgs[currentIndex].getAttribute('data-src');
    const alt = imgs[currentIndex].alt || ('Image ' + (currentIndex+1));
    popup.classList.add('open');
    popup.setAttribute('aria-hidden','false');
    document.body.style.overflow = 'hidden';
    setLoading(true);
    popupImg.classList.remove('zoomed');
    isZoomed = false;
    popupImg.src = '';
    popupCaption.textContent = alt;
    const loader = new Image();
    loader.onload = function(){
      popupImg.src = src;
      setLoading(false);
      btnClose.focus();
    };
    loader.onerror = function(){
      setLoading(false);
      popupCaption.textContent = 'خطأ في تحميل الصورة';
    };
    loader.src = src;
  }

  function closePopup(){
    popup.classList.remove('open');
    popup.setAttribute('aria-hidden','true');
    popupImg.src = '';
    popupCaption.textContent = '';
    document.body.style.overflow = '';
    isZoomed = false;
    popupImg.classList.remove('zoomed');
  }

  function showNext(){ openAt(currentIndex + 1); }
  function showPrev(){ openAt(currentIndex - 1); }

  imgs.forEach((img, i) => {
    img.style.cursor = 'zoom-in';
    img.addEventListener('click', (e) => {
      e.preventDefault();
      openAt(i);
    });
    img.addEventListener('keydown', (e) => {
      if(e.key === 'Enter' || e.key === ' ') openAt(i);
    });
  });

  btnClose.addEventListener('click', closePopup);
  btnNext.addEventListener('click', (e)=>{ e.stopPropagation(); showNext(); });
  btnPrev.addEventListener('click', (e)=>{ e.stopPropagation(); showPrev(); });

  popup.addEventListener('click', (e) => {
    if(e.target === popup) closePopup();
  });

  popupImg.addEventListener('click', (e) => {
    if(popupImg.src){
      isZoomed = !isZoomed;
      popupImg.classList.toggle('zoomed', isZoomed);
    }
  });

  document.addEventListener('keydown', (e) => {
    if(!popup.classList.contains('open')) return;
    if(e.key === 'Escape') closePopup();
    else if(e.key === 'ArrowRight' || e.key === 'ArrowDown') showNext();
    else if(e.key === 'ArrowLeft' || e.key === 'ArrowUp') showPrev();
    else if(e.key === '+' || e.key === '='){ isZoomed = true; popupImg.classList.add('zoomed'); }
    else if(e.key === '-' ){ isZoomed = false; popupImg.classList.remove('zoomed'); }
  });

  popupImg.addEventListener('wheel', function(e){
    if(!popup.classList.contains('open')) return;
    e.preventDefault();
    if(e.deltaY < 0) { isZoomed = true; popupImg.classList.add('zoomed'); }
    else { isZoomed = false; popupImg.classList.remove('zoomed'); }
  }, { passive:false });

  // touch swipe
  let startX = 0;
  let startY = 0;
  popup.addEventListener('touchstart', function(e){
    if(!popup.classList.contains('open')) return;
    if(e.touches && e.touches.length === 1){
      startX = e.touches[0].clientX;
      startY = e.touches[0].clientY;
    }
  }, {passive:true});

  popup.addEventListener('touchend', function(e){
    if(!popup.classList.contains('open')) return;
    const touch = e.changedTouches && e.changedTouches[0];
    if(!touch) return;
    const dx = touch.clientX - startX;
    const dy = touch.clientY - startY;
    if(Math.abs(dx) > 40 && Math.abs(dx) > Math.abs(dy)){
      if(dx < 0) showNext();
      else showPrev();
    }
  }, {passive:true});

})();
</script>

</body>
</html>
